(this["webpackJsonppokemon-web-app"]=this["webpackJsonppokemon-web-app"]||[]).push([[0],{101:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(3),o=n.n(c),i=n(84),s=n.n(i),r=(n(41),n(94)),l=n(117),m=n(11),d=n(10),j=n(95),b=n(85),u=n(30),O=n(86),h=(n(101),n.p+"static/media/logo.4e120cee.svg"),p=n.p+"static/media/compass.9af2d6b7.png",f=n.p+"static/media/backpack.ff1378cd.png",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAATUlEQVRIie3MOxEAIBAD0RSU+KNEAlIQggyEwTF8DOQaZrLbP0Cdiu3CDJumNrNOPkxHFCNGDM0A9UENgYFEiRJFUpmDLlVZZlMuzFdNO/WPEVqT7vQAAAAASUVORK5CYII=";function k(e){var t=e.img,n=e.text;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:t,className:"img-item",alt:t}),Object(a.jsx)("p",{className:"navbar-text",children:n})]})}var x=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)([]),s=Object(u.a)(i,2),r=s[0],l=s[1],x=Object(d.g)(),g=Object(O.useMediaQuery)({query:"(max-width: 960px)"});return Object(c.useEffect)((function(){return x.listen((function(e){"PUSH"===x.action&&l([e.key]),"POP"===x.action&&(r[1]===e.key?"/my-pokemon-action"===e.pathname?x.replace("/"):l((function(e){var t=Object(b.a)(e);t[0];return t.slice(1)})):"/my-pokemon-action"===e.pathname?x.replace("/"):l((function(t){return[e.key].concat(Object(j.a)(t))})))}))}),[r,x]),Object(c.useEffect)((function(){"/my-pokemon-action"===x.location.pathname&&window.addEventListener("beforeunload",x.replace("/"))}),[x]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("nav",{className:!n&&g?"display-none":"navbar",children:Object(a.jsxs)("div",{className:"navbar-container",children:[Object(a.jsx)(m.c,{to:"/pokemon-details",exact:!0,isActive:function(e){o(!!e)},className:"display-none"}),Object(a.jsx)(m.b,{to:"/",className:n&&g?"display-none":"navbar-logo",children:Object(a.jsx)("img",{src:h,className:"img-logo",alt:"logo"})}),Object(a.jsxs)("ul",{className:g?"navbar-menu flex-start":"navbar-menu",children:[Object(a.jsx)("li",{className:n&&g?"navbar-item":"display-none",children:Object(a.jsx)("div",{className:"navbar-links back",onClick:function(){x.goBack()},children:Object(a.jsx)(k,{img:v,text:"BACK"})})}),Object(a.jsx)("li",{className:n&&g?"display-none":"navbar-item",children:Object(a.jsx)(m.c,{className:"navbar-links",to:"/",exact:!0,children:Object(a.jsx)(k,{img:p,text:"EXPLORE"})})}),Object(a.jsx)("li",{className:n&&g?"display-none":"navbar-item",children:Object(a.jsx)(m.c,{className:"navbar-links",to:"/my-pokemon-list",children:Object(a.jsx)(k,{img:f,text:"MY POKEMON LIST"})})})]})]})}),Object(a.jsx)("nav",{className:n||g?"navbar-bottom":"display-none",children:Object(a.jsx)("div",{className:"navbar-container",children:Object(a.jsxs)("ul",{className:"navbar-menu",children:[Object(a.jsx)("li",{className:n&&!g?"display-none":"navbar-item",children:Object(a.jsx)(m.c,{className:"navbar-links",to:"/",exact:!0,children:Object(a.jsx)(k,{img:p,text:"EXPLORE"})})}),Object(a.jsx)("li",{className:n&&!g?"display-none":"navbar-item",children:Object(a.jsx)(m.c,{className:"navbar-links",to:"/my-pokemon-list",children:Object(a.jsx)(k,{img:f,text:"MY POKEMON LIST"})})})]})})})]})},g=n(28),A=n(29),N=n(37),y=n(36),P=n(58),E=n(25),w=n.n(E);function S(){var e=Object(P.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id @client\n      name @client\n      sprites {\n        front_default @client\n      }\n      abilities {\n        ability {\n          name @client\n        }\n      }\n      moves {\n        move {\n          name @client\n        }\n      }\n      types {\n        type {\n          name @client\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function C(){var e=Object(P.a)(["\n  query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      sprites {\n        front_default\n      }\n      abilities {\n        ability {\n          name\n        }\n      }\n      moves {\n        move {\n          name\n        }\n      }\n      types {\n        type {\n          name\n        }\n      }\n    }\n  }\n"]);return C=function(){return e},e}function I(){var e=Object(P.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      results {\n        id\n        name\n        image\n      }\n    }\n  }\n"]);return I=function(){return e},e}var B=w()(I()),F=w()(C()),R=(w()(S()),n(88)),D=n.n(R).a.open("POKEMONS",1,(function(e){e.createObjectStore("Pokemons",{keyPath:"myPokemonId"}).createIndex("myPokemonId","myPokemonId",{unique:!1})})),Q=new(function(){function e(){Object(g.a)(this,e)}return Object(A.a)(e,[{key:"catchPokemon",value:function(e){D.then((function(t){var n=t.transaction("Pokemons","readwrite"),a=n.objectStore("Pokemons");return console.log(e),a.put(e),n.complete})).then((function(){console.log("Pokemon catched.")}))}},{key:"releasePokemon",value:function(e){D.then((function(t){var n=t.transaction("Pokemons","readwrite"),a=n.objectStore("Pokemons");return console.log(e),a.delete(e),n.complete})).then((function(){console.log("Pokemon released.")}))}},{key:"getMyPokemons",value:function(){return new Promise((function(e){D.then((function(e){return e.transaction("Pokemons","readonly").objectStore("Pokemons").getAll()})).then((function(t){e(t),console.log("Got your Pokemons!")}))}))}},{key:"getMyPokemonById",value:function(e){return new Promise((function(t){D.then((function(t){return t.transaction("Pokemons","readonly").objectStore("Pokemons").get(e)})).then((function(e){t(e),console.log("Got the Pokemon!")}))}))}}]),e}()),L=n.p+"static/media/open_pokeball.327609e2.png",M=n.p+"static/media/pokeball.9fc0eeae.png";n(106);var U=function(e){var t=e.text;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"loading-container",children:[Object(a.jsx)("div",{className:"loading-image-container",children:Object(a.jsx)("img",{className:"loading-image",src:M,alt:M})}),t&&Object(a.jsx)("div",{className:"loading-text",children:t})]})})};n(107);function q(e){var t=e.pokemon,n=void 0!==t.myPokemonId;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"card",children:Object(a.jsxs)("div",{className:"card-container",children:[Object(a.jsxs)(m.b,{to:{pathname:"/pokemon-details",state:{pokemon:t}},className:"card-link",children:[n&&t.sprites?Object(a.jsx)("img",{src:t.sprites.front_default,className:"card-img",alt:t.name}):Object(a.jsx)("img",{src:t.image,className:"card-img",alt:t.name}),Object(a.jsx)("div",{className:"card-title",children:t.name})]},t.id),n?Object(a.jsxs)(m.b,{to:{pathname:"/my-pokemon-action",state:{pokemon:t,isCatching:!1}},onClick:function(){t.myPokemonId&&Q.releasePokemon(t.myPokemonId)},className:"button-container button card-link",children:[Object(a.jsx)("img",{className:"card-button-img",src:L,alt:L}),Object(a.jsx)("div",{className:"card-button-text",children:"RELEASE"})]}):Object(a.jsxs)("div",{className:"card-owned-text",children:["OWNED: ",t.count]})]})})})}var Y=function(e){var t=e.pokemons,n=Object(d.g)(),o=!!n&&"/my-pokemon-list"===n.location.pathname,i=Object(c.useState)(t),s=Object(u.a)(i,2),r=s[0],m=s[1],j=Object(c.useState)(20),b=Object(u.a)(j,2),O=b[0],h=b[1],p=Object(l.useQuery)(B,{variables:{limit:O,offset:0},skip:o}),f=p.loading,v=p.data,k=(v=void 0===v?{}:v).pokemons,x=(k=void 0===k?{}:k).results,g=void 0===x?[]:x,A=p.error;return Object(c.useEffect)((function(){f||o||m(g)}),[f,o,g,r]),A?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(U,{text:"No data found!"})}):(r&&!o&&r.forEach((function(e){var n=0;t.forEach((function(t){e.id===t.id&&n++})),e.count=n})),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"cards-container",children:r&&r.map((function(e){return Object(a.jsx)(q,{pokemon:e},o?e.myPokemonId:e.id)}))}),!o&&Object(a.jsx)("div",{className:"button-container",children:f?Object(a.jsx)(U,{}):Object(a.jsx)("div",{className:"button",onClick:function(){h(O+20)},children:"Load more"})})]}))},K=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={data:[]},a.getPokemons(),a}return Object(A.a)(n,[{key:"getPokemons",value:function(){var e=this;Q.getMyPokemons().then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Y,{pokemons:this.state.data})})}}]),n}(o.a.Component),T=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={data:[]},a.getPokemons(),a}return Object(A.a)(n,[{key:"getPokemons",value:function(){var e=this;Q.getMyPokemons().then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){return this.state.data.length>0?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Y,{pokemons:this.state.data})}):Object(a.jsx)(U,{text:"You have no Pokemons yet!"})}}]),n}(o.a.Component),W=n(47),G=n(118),V=(n(112),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAkElEQVR4Ae3OgQWAYBiE4QYIEBogNEIIbdE4jdB4jdAA/wB/hwPFJ/B1cccLDp7mJ/O8Dq2oVcDMqKCKDtRrYNDXqOGBEUDtqAaoNgMxovklas3AnKi8QBXUZWAqC1D8sjAR6htMjBqSMTEqBZMA0sQYY4wxxhjDbToYgnQwBOlgCNLBECSD4Rai7k1Ifp53AbHE8jDp7bA+AAAAAElFTkSuQmCC");var J=function(e){var t=e?e.pokemon:null,n=!!t&&(!!t.pokemon&&!!t.pokemon.myPokemonId),o=Math.random()<.5,i=Object(c.useState)(t?t.pokemon:null),s=Object(u.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(r?r.name:null),b=Object(u.a)(j,2),O=b[0],h=b[1],p=Object(l.useQuery)(F,{variables:{name:O},skip:n}),f=p.loading,v=p.data,k=(v=void 0===v?{}:v).pokemon,x=void 0===k?[]:k,g=p.error,A=Object(c.useState)(!1),N=Object(u.a)(A,2),y=N[0],P=N[1],E=Object(c.useRef)();return Object(c.useEffect)((function(){y&&E.current.focus()}),[y]),Object(c.useEffect)((function(){d((function(e){return Object(W.a)(Object(W.a)({},e),{},{name:O})}))}),[O]),Object(c.useEffect)((function(){f||n||d(x)}),[f]),f?Object(a.jsx)(U,{}):g?Object(a.jsx)(U,{text:"No data found!"}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"details-container",children:[Object(a.jsxs)("div",{className:"details-header",children:[r.sprites?Object(a.jsx)("img",{src:r.sprites.front_default,className:"details-img",alt:"item"}):null,Object(a.jsxs)("form",{className:"details-name-container",children:[Object(a.jsx)("input",{className:y?"details-name":"details-name center",type:"text",ref:E,value:r.name?r.name:"",onChange:function(e){var t=e.target.value;h(t)},onKeyDown:function(e){13===e.keyCode&&w()},disabled:y?"":"disabled"}),n?Object(a.jsx)("div",{onClick:function(){y?w():(P(!0),E.current.focus())},className:"details-edit-container",children:Object(a.jsx)("img",{src:V,alt:V,className:"details-edit"})}):null]}),r.types?Object(a.jsx)("div",{className:"details-types-container",children:Object(a.jsx)("div",{className:"details-values",children:r.types.map((function(e){return Object(a.jsx)("div",{className:"details-value ".concat(e.type.name),children:e.type.name},e.type.name)}))})}):null]}),Object(a.jsxs)("div",{className:"details",children:[r.abilities?Object(a.jsxs)("div",{className:"details-pokemon-container",children:[Object(a.jsx)("div",{className:"details-title",children:"ABILITIES"}),Object(a.jsx)("div",{className:"details-values",children:r.abilities.map((function(e){return Object(a.jsx)("div",{className:"details-value",children:e.ability.name},e.ability.name)}))})]}):null,r.moves?Object(a.jsxs)("div",{className:"details-pokemon-container",children:[Object(a.jsx)("div",{className:"details-title",children:"MOVES"}),Object(a.jsx)("div",{className:"details-values",children:r.moves.map((function(e){return Object(a.jsx)("div",{className:"details-value",children:e.move.name},e.move.name)}))})]}):null]}),n?Object(a.jsx)(m.b,{to:{pathname:"/my-pokemon-action",state:{pokemon:r,isCatching:!1}},onClick:function(){r.myPokemonId&&Q.releasePokemon(r.myPokemonId)},className:y?"details-button-container hide":"details-button-container",children:Object(a.jsxs)("div",{className:"details-button",children:[Object(a.jsx)("img",{src:L,className:"details-button-img",alt:L}),Object(a.jsx)("div",{className:"details-button-text",children:"RELEASE"})]})},r.id):Object(a.jsx)(m.b,{to:{pathname:"/my-pokemon-action",state:{pokemon:r,isCatching:!0,isSuccessful:o}},onClick:function(){if(o){r.myPokemonId=Object(G.a)(),Q.catchPokemon(r)}},className:"details-button-container",children:Object(a.jsxs)("div",{className:"details-button",children:[Object(a.jsx)("img",{src:M,className:"details-button-img",alt:M}),Object(a.jsx)("div",{className:"details-button-text",children:"CATCH"})]})},r.id)]})});function w(){d(Object(W.a)(Object(W.a)({},r),{},{name:r.name})),Q.catchPokemon(r),P(!1)}},$=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={data:e.location?e.location.state:{}},a}return Object(A.a)(n,[{key:"render",value:function(){if(!this.state.data)return Object(a.jsx)(d.a,{to:"/"});var e=this.state.data;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(J,{pokemon:e})})}}]),n}(o.a.Component),Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAW0lEQVR4Ae3OgQWAIRBA4R8/QgO0ZaM0SGM0ROPUReAIkDt5jwfA970e5b0bzNhnRxh7VJC7wpijEihQoO4EChSoKLcDqIABswIDBgwYg365esFolD1GoxSGaAKRQaqRlGw8/QAAAABJRU5ErkJggg==",_=n.p+"static/media/footprints.187beaa7.png",H=n.p+"static/media/gotcha.e52aa4c3.png";n(113);var X=function(e){var t=e.pokemon,n=e.isCatching,c=e.isSuccessful;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"action-pokemon-container",children:[Object(a.jsx)("div",{className:"action-pokemon-image-container",children:Object(a.jsx)("img",{className:"action-pokemon-image",src:n&&c?H:_,alt:n&&c?H:_})}),Object(a.jsx)("div",{className:"action-pokemon-title",children:n&&c?"SUCCESSFUL!":n?"FAILED!":"RELEASED!"}),Object(a.jsx)("div",{className:"action-pokemon-subtitle",children:n&&c?"Gotta catch em' all!":n?"It ran away...":"Goodbye friend!"}),Object(a.jsx)("div",{className:"action-pokemon-button-container",children:n&&c?Object(a.jsx)(m.b,{className:"action-pokemon-button",to:{pathname:"/pokemon-details",state:{pokemon:t}},children:Object(a.jsx)("img",{src:Z,alt:Z})}):Object(a.jsx)(m.b,{className:"action-pokemon-button",to:{pathname:"/"},children:Object(a.jsx)("img",{src:v,alt:v})})})]})})},z=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).state={data:e.location?e.location.state:null},a}return Object(A.a)(n,[{key:"render",value:function(){if(void 0===this.state.data)return Object(a.jsx)(d.a,{to:"/"});var e=this.state.data?this.state.data.pokemon:null,t=this.state.data?this.state.data.isCatching:null,n=this.state.data?this.state.data.isSuccessful:null;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(X,{pokemon:e,isCatching:t,isSuccessful:n})})}}]),n}(o.a.Component);var ee=function(){var e=new r.a({uri:"https://graphql-pokeapi.vercel.app/api/graphql"});return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(l.ApolloProvider,{client:e,children:Object(a.jsxs)(m.a,{basename:"/pokemon-web-app",children:[Object(a.jsx)(x,{}),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/",exact:!0,component:K}),Object(a.jsx)(d.b,{path:"/my-pokemon-list",exact:!0,component:T}),Object(a.jsx)(d.b,{path:"/pokemon-details",exact:!0,component:$}),Object(a.jsx)(d.b,{path:"/my-pokemon-action",exact:!0,component:z})]})})]})})})},te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,119)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};s.a.render(Object(a.jsx)(ee,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pokemon-web-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pokemon-web-app","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ne(t,e)}))}}(),ae()},41:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.dc43da13.chunk.js.map